# OTUS ДЗ_1

+ Cоздать новый проект в Google Cloud Platform, например postgres2022-, где yyyymm год, месяц вашего рождения (имя проекта должно быть уникально на уровне GCP), Яндекс облако или на любых ВМ, докер
+ Далее создать инстанс виртуальной машины с дефолтными параметрами
+ Добавить свой ssh ключ в metadata ВМ
+ Зайти удаленным ssh (первая сессия), не забывайте про ssh-add
+ Поставить PostgreSQL
+ Зайти вторым ssh (вторая сессия)
+ Запустить везде psql из под пользователя postgres
+ Выключить auto commit
+ Сделать в первой сессии новую таблицу и наполнить ее данными 
create table persons(id serial, first_name text, second_name text); insert into persons(first_name, second_name) values('ivan', 'ivanov'); insert into persons(first_name, second_name) values('petr', 'petrov'); commit;
+ Посмотреть текущий уровень изоляции: show transaction isolation level
+ Начать новую транзакцию в обоих сессиях с дефолтным (не меняя) уровнем изоляции
+ В первой сессии добавить новую запись insert into persons(first_name, second_name) values('sergey', 'sergeev');
+ Сделать select * from persons во второй сессии
+ Видите ли вы новую запись и если да то почему?
    > нет, т.к. уровень транзакции не позволяет видеть транзакции до фиксации (commit)
+ Завершить первую транзакцию - commit;
+ Сделать select * from persons во второй сессии
+ Видите ли вы новую запись и если да то почему?
    > да, транзакция в первой сессии завершена, уровень изоляции позволяет увидеть зафиксированную транзакцию
+ Завершите транзакцию во второй сессии
+ Начать новые но уже repeatable read транзации - set transaction isolation level repeatable read;
+ В первой сессии добавить новую запись insert into persons(first_name, second_name) values('sveta', 'svetova');
+ Сделать select * from persons во второй сессии
+ Видите ли вы новую запись и если да то почему?
    > нет, уровень изоляции не позволяет видеть не завершенные транзакции, также читающая транзакция не видит изменений данных, которые были ранее прочитаны, т.е. необходимо сначала завершить транзакицю во второй сессии, чтобы увидеть изменения внесенные транзакцией в первой сессии
+ Завершить первую транзакцию - commit;
+ Сделать select * from persons во второй сессии
+ Видите ли вы новую запись и если да то почему?
    > нет, уровень изоляции не позволяет видеть не завершенные транзакции, также читающая транзакция не видит изменений данных, которые были ранее прочитаны, т.е. необходимо сначала завершить транзакицю во второй сессии, чтобы увидеть изменения внесенные транзакцией в первой сессии
+ Завершить вторую транзакцию
+ Сделать select * from persons во второй сессии
+ Видите ли вы новую запись и если да то почему?
    > да, все необходимые условия выполнены
